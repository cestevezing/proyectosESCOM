--------------------------------------------------------
-- Archivo creado  - jueves-marzo-05-2020   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence DEMO_CUST_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."DEMO_CUST_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence DEMO_ORDER_ITEMS_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."DEMO_ORDER_ITEMS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence DEMO_ORD_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."DEMO_ORD_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 11 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence DEMO_PROD_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."DEMO_PROD_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence DEMO_USERS_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."DEMO_USERS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TBL_ACTIVIDAD
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."SEQ_TBL_ACTIVIDAD"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 143 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TBL_BITACORA
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."SEQ_TBL_BITACORA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 164 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TBL_CONFIGURACION
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."SEQ_TBL_CONFIGURACION"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TBL_MODULO
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."SEQ_TBL_MODULO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 82 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TBL_TIPODOCUMENTO
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."SEQ_TBL_TIPODOCUMENTO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 22 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TBL_USUARIO
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."SEQ_TBL_USUARIO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 223 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TBL_USUARIOACTIVIDAD
--------------------------------------------------------

   CREATE SEQUENCE  "BDS_ESCOM"."SEQ_TBL_USUARIOACTIVIDAD"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 243 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table TBL_ACTIVIDAD
--------------------------------------------------------

  CREATE TABLE "BDS_ESCOM"."TBL_ACTIVIDAD" 
   (	"PK_ACT_IDACTIVIDAD" NUMBER, 
	"ACT_ESTADO" VARCHAR2(20 BYTE), 
	"ACT_ULTIMAMODIFICACION" DATE, 
	"FK_ACT_IDMODULO" NUMBER, 
	"ACT_DESCRIPCIONACTIVIDAD" VARCHAR2(200 BYTE), 
	"ACT_NOMBREACTIVIDAD" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TBL_BITACORA
--------------------------------------------------------

  CREATE TABLE "BDS_ESCOM"."TBL_BITACORA" 
   (	"PK_BTC_IDBITACORA" NUMBER, 
	"BTC_OPERACION" VARCHAR2(50 BYTE), 
	"FK_BTC_IDUSUARIO" NUMBER, 
	"BTC_FECHABITACORA" DATE, 
	"FK_BTC_IDMODULO" NUMBER, 
	"BTC_IP" VARCHAR2(20 BYTE), 
	"BTC_TABLAINVOLUCRADA" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TBL_CONFIGURACION
--------------------------------------------------------

  CREATE TABLE "BDS_ESCOM"."TBL_CONFIGURACION" 
   (	"PK_CONF_IDCONFIGURACION" NUMBER(*,0), 
	"CONF_BARRASUPERIOR" VARCHAR2(20 BYTE), 
	"CONF_BARRALATERAL" VARCHAR2(20 BYTE), 
	"CONF_BOTONES" VARCHAR2(20 BYTE), 
	"CONF_LOGO" BLOB, 
	"CONF_IMAGENLOGIN" BLOB
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("CONF_LOGO") STORE AS BASICFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("CONF_IMAGENLOGIN") STORE AS BASICFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table TBL_MODULO
--------------------------------------------------------

  CREATE TABLE "BDS_ESCOM"."TBL_MODULO" 
   (	"PK_MOD_IDMODULO" NUMBER, 
	"MOD_ULTIMAMODIFICACION" DATE, 
	"MOD_ESTADO" VARCHAR2(20 BYTE), 
	"MOD_ACRONIMO" VARCHAR2(20 BYTE), 
	"MOD_IMAGEN" BLOB, 
	"MOD_DESCRIPCIONMODULO" VARCHAR2(200 BYTE), 
	"MOD_NOMBREMODULO" VARCHAR2(40 BYTE), 
	"MOD_URL" VARCHAR2(40 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("MOD_IMAGEN") STORE AS BASICFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table TBL_TIPODOCUMENTO
--------------------------------------------------------

  CREATE TABLE "BDS_ESCOM"."TBL_TIPODOCUMENTO" 
   (	"PK_TIP_IDTIPODOCUMENTO" NUMBER, 
	"TIP_TIPODOCUMENTO" VARCHAR2(20 BYTE), 
	"TIP_ULTIMAMODIFICACION" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TBL_USUARIO
--------------------------------------------------------

  CREATE TABLE "BDS_ESCOM"."TBL_USUARIO" 
   (	"PK_USR_IDUSUARIO" NUMBER, 
	"USR_TOKEN" VARCHAR2(300 BYTE), 
	"USR_NUMERODOCUMENTO" NUMBER, 
	"USR_ESTADO" VARCHAR2(20 BYTE), 
	"USR_FECHANACIMIENTO" DATE, 
	"USR_NUMEROINTENTOS" NUMBER, 
	"USR_ULTIMAMODIFICACION" DATE, 
	"USR_CORREOELECTRONICO" VARCHAR2(50 BYTE), 
	"FK_USR_IDTIPODOCUMENTO" NUMBER, 
	"USR_CONTRASENA" VARCHAR2(300 BYTE), 
	"USR_NOMBRE" VARCHAR2(50 BYTE), 
	"USR_APELLIDO" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TBL_USUARIOACTIVIDAD
--------------------------------------------------------

  CREATE TABLE "BDS_ESCOM"."TBL_USUARIOACTIVIDAD" 
   (	"PK_UAC_IDRELACION" NUMBER, 
	"FK_UAC_IDACTIVIDAD" NUMBER, 
	"FK_UAC_IDUSUARIO" NUMBER, 
	"UAC_ULTIMAMODIFICACION" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into BDS_ESCOM.TBL_ACTIVIDAD
SET DEFINE OFF;
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('86','Activo',to_date('11/02/20','DD/MM/RR'),'31','...pppppppppp','sa_Editar informacion de los usuarios');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('87','Activo',to_date('11/02/20','DD/MM/RR'),'31','...','sa_Suspender/activar usuarios');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('88','Activo',to_date('11/02/20','DD/MM/RR'),'31','..','sa_Registrar modulos');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('89','Activo',to_date('11/02/20','DD/MM/RR'),'31','...','sa_Consultar modulos registrados');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('90','Activo',to_date('11/02/20','DD/MM/RR'),'31','....','sa_Editar informacion de los modulos');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('91','Activo',to_date('11/02/20','DD/MM/RR'),'31','....','sa_Suspender/activar actividades de modulos');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('92','Activo',to_date('11/02/20','DD/MM/RR'),'31','....','sa_Suspender/activar modulos');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('93','Activo',to_date('11/02/20','DD/MM/RR'),'31','...','sa_Administrar configuracion de aspecto');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('94','Activo',to_date('11/02/20','DD/MM/RR'),'31','...','sa_Consultar actividades registradas');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('95','Activo',to_date('11/02/20','DD/MM/RR'),'31','....','sa_Registrar actividad');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('96','Activo',to_date('11/02/20','DD/MM/RR'),'31','....','sa_Suspender/activar actividades');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('97','Activo',to_date('11/02/20','DD/MM/RR'),'31','...','sa_Editar informacion de la actividad');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('84','Activo',to_date('11/02/20','DD/MM/RR'),'31','permiso para consultar los usuarios actualmente inscritos en el sistema','sa_Asignacion de actividades a los usuarios');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('85','Activo',to_date('11/02/20','DD/MM/RR'),'31','Permiso que habilita el registro de usuarios en la plataforma','sa_Registrar usuarios');
Insert into BDS_ESCOM.TBL_ACTIVIDAD (PK_ACT_IDACTIVIDAD,ACT_ESTADO,ACT_ULTIMAMODIFICACION,FK_ACT_IDMODULO,ACT_DESCRIPCIONACTIVIDAD,ACT_NOMBREACTIVIDAD) values ('83','Activo',null,'31','actividad de prueba xde','sa_Consultar usuarios registrados');
REM INSERTING into BDS_ESCOM.TBL_BITACORA
SET DEFINE OFF;
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('127','Editar informacion de los usuarios','8',to_date('03/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('128','Suspender/activar usuarios','8',to_date('03/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('130','Registrar usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('131','Suspender/activar usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('132','Asignacion de actividades a los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('133','Asignacion de actividades a los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('134','Asignacion de actividades a los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('126','Registrar usuarios','8',to_date('03/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('129','Editar informacion de los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('135','Asignacion de actividades a los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('144','Administrar configuracion de aspecto','8',to_date('05/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_CONFIGURACION');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('145','Administrar configuracion de aspecto','8',to_date('05/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_CONFIGURACION');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('142','Suspender/activar modulos','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_MODULO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('143','Suspender/activar actividades de modulos','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_MODULO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('140','Registrar modulos','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_MODULO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('141','Editar informacion de los modulos','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_MODULO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('136','Editar informacion de los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('137','Suspender/activar usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('138','Asignacion de actividades a los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
Insert into BDS_ESCOM.TBL_BITACORA (PK_BTC_IDBITACORA,BTC_OPERACION,FK_BTC_IDUSUARIO,BTC_FECHABITACORA,FK_BTC_IDMODULO,BTC_IP,BTC_TABLAINVOLUCRADA) values ('139','Asignacion de actividades a los usuarios','8',to_date('04/03/20','DD/MM/RR'),'31','186.86.33.18','TBL_USUARIO');
REM INSERTING into BDS_ESCOM.TBL_CONFIGURACION
SET DEFINE OFF;
Insert into BDS_ESCOM.TBL_CONFIGURACION (PK_CONF_IDCONFIGURACION,CONF_BARRASUPERIOR,CONF_BARRALATERAL,CONF_BOTONES) values ('22','#f8e71c','#3b2e23','#bd10e0');
REM INSERTING into BDS_ESCOM.TBL_MODULO
SET DEFINE OFF;
Insert into BDS_ESCOM.TBL_MODULO (PK_MOD_IDMODULO,MOD_ULTIMAMODIFICACION,MOD_ESTADO,MOD_ACRONIMO,MOD_DESCRIPCIONMODULO,MOD_NOMBREMODULO,MOD_URL) values ('62',to_date('02/03/20','DD/MM/RR'),'Activo',null,'...','prueba',null);
Insert into BDS_ESCOM.TBL_MODULO (PK_MOD_IDMODULO,MOD_ULTIMAMODIFICACION,MOD_ESTADO,MOD_ACRONIMO,MOD_DESCRIPCIONMODULO,MOD_NOMBREMODULO,MOD_URL) values ('63',to_date('03/03/20','DD/MM/RR'),'Suspendido',null,'asasasasa','Pecado del desinteres',null);
Insert into BDS_ESCOM.TBL_MODULO (PK_MOD_IDMODULO,MOD_ULTIMAMODIFICACION,MOD_ESTADO,MOD_ACRONIMO,MOD_DESCRIPCIONMODULO,MOD_NOMBREMODULO,MOD_URL) values ('47',to_date('23/02/20','DD/MM/RR'),'Activo',null,'...','Modulo documental','kk');
Insert into BDS_ESCOM.TBL_MODULO (PK_MOD_IDMODULO,MOD_ULTIMAMODIFICACION,MOD_ESTADO,MOD_ACRONIMO,MOD_DESCRIPCIONMODULO,MOD_NOMBREMODULO,MOD_URL) values ('31',null,'Activo','SA','modulo encargado de la seguridad','Super Administrador','/AdminUsuario');
Insert into BDS_ESCOM.TBL_MODULO (PK_MOD_IDMODULO,MOD_ULTIMAMODIFICACION,MOD_ESTADO,MOD_ACRONIMO,MOD_DESCRIPCIONMODULO,MOD_NOMBREMODULO,MOD_URL) values ('64',to_date('04/03/20','DD/MM/RR'),'Suspendido','Mp','asaaasassa','Modulo prueba',null);
REM INSERTING into BDS_ESCOM.TBL_TIPODOCUMENTO
SET DEFINE OFF;
Insert into BDS_ESCOM.TBL_TIPODOCUMENTO (PK_TIP_IDTIPODOCUMENTO,TIP_TIPODOCUMENTO,TIP_ULTIMAMODIFICACION) values ('1','Cedula',to_date('12/12/00','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_TIPODOCUMENTO (PK_TIP_IDTIPODOCUMENTO,TIP_TIPODOCUMENTO,TIP_ULTIMAMODIFICACION) values ('2','Tarjeta de identidad',null);
REM INSERTING into BDS_ESCOM.TBL_USUARIO
SET DEFINE OFF;
Insert into BDS_ESCOM.TBL_USUARIO (PK_USR_IDUSUARIO,USR_TOKEN,USR_NUMERODOCUMENTO,USR_ESTADO,USR_FECHANACIMIENTO,USR_NUMEROINTENTOS,USR_ULTIMAMODIFICACION,USR_CORREOELECTRONICO,FK_USR_IDTIPODOCUMENTO,USR_CONTRASENA,USR_NOMBRE,USR_APELLIDO) values ('187','MbnV7IwYDVlwHU-CPZ5m7dGA9vmFmidWwwkEOuWBwKM','123422','Activo',to_date('02/10/97','DD/MM/RR'),'0',to_date('25/02/20','DD/MM/RR'),'alejaja@correo.com','1','5fcadd8a94f93dc8fca0f0413d9c4445684e8a2c16e9a3a77ca41e696daab8134823f5ded83caf513535a9c63daac6eb4a3f4ec62167c1661854166da4e3f3e3913f4c5acca80f64f46e1e366f3286c','Alejandra Pabon','Rodriguez');
Insert into BDS_ESCOM.TBL_USUARIO (PK_USR_IDUSUARIO,USR_TOKEN,USR_NUMERODOCUMENTO,USR_ESTADO,USR_FECHANACIMIENTO,USR_NUMEROINTENTOS,USR_ULTIMAMODIFICACION,USR_CORREOELECTRONICO,FK_USR_IDTIPODOCUMENTO,USR_CONTRASENA,USR_NOMBRE,USR_APELLIDO) values ('8',' ','1073175128','Activo',to_date('16/12/97','DD/MM/RR'),'0',null,'jeisongaona@hotmail.com','2','1ef22cb6f113fa0ea7bcfb61c15bbc2c177a5d09464d3edf7d5251f2ac28bfe6c317e6a1df862bd5e4783e09d43714d9579a638ce3f9aceb8f7ee7e663abd03913f4c5acca80f64f46e1e366f3286c','Jeison Ferney','Gaona Arevalo');
REM INSERTING into BDS_ESCOM.TBL_USUARIOACTIVIDAD
SET DEFINE OFF;
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('191','91','8',to_date('20/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('176','83','8',to_date('17/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('199','95','8',to_date('20/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('198','97','8',to_date('20/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('196','93','8',to_date('20/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('197','89','8',to_date('20/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('207','97','187',to_date('25/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('223','85','187',to_date('26/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('182','84','8',null);
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('183','87','8',to_date('19/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('185','88','8',null);
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('184','86','8',to_date('19/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('172','85','8',to_date('16/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('190','90','8',to_date('19/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('200','94','8',to_date('23/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('201','92','8',to_date('23/02/20','DD/MM/RR'));
Insert into BDS_ESCOM.TBL_USUARIOACTIVIDAD (PK_UAC_IDRELACION,FK_UAC_IDACTIVIDAD,FK_UAC_IDUSUARIO,UAC_ULTIMAMODIFICACION) values ('195','96','8',to_date('20/02/20','DD/MM/RR'));
--------------------------------------------------------
--  DDL for Index TBL_TIPODOCUMENTO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BDS_ESCOM"."TBL_TIPODOCUMENTO_PK" ON "BDS_ESCOM"."TBL_TIPODOCUMENTO" ("PK_TIP_IDTIPODOCUMENTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TBL_USUARIOACTIVIDAD_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BDS_ESCOM"."TBL_USUARIOACTIVIDAD_PK" ON "BDS_ESCOM"."TBL_USUARIOACTIVIDAD" ("PK_UAC_IDRELACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TBL_USUARIO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BDS_ESCOM"."TBL_USUARIO_PK" ON "BDS_ESCOM"."TBL_USUARIO" ("PK_USR_IDUSUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TBL_MODULO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BDS_ESCOM"."TBL_MODULO_PK" ON "BDS_ESCOM"."TBL_MODULO" ("PK_MOD_IDMODULO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TBL_CONFIGURACION_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BDS_ESCOM"."TBL_CONFIGURACION_PK" ON "BDS_ESCOM"."TBL_CONFIGURACION" ("PK_CONF_IDCONFIGURACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TBL_ACTIVIDAD_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BDS_ESCOM"."TBL_ACTIVIDAD_PK" ON "BDS_ESCOM"."TBL_ACTIVIDAD" ("PK_ACT_IDACTIVIDAD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TBL_BITACORA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BDS_ESCOM"."TBL_BITACORA_PK" ON "BDS_ESCOM"."TBL_BITACORA" ("PK_BTC_IDBITACORA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_SEQ_TBL_ACTIVIDAD
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_ACTIVIDAD" 
before insert on TBL_ACTIVIDAD
for each row
begin
    select SEQ_TBL_ACTIVIDAD.nextval into :new.PK_ACT_IDACTIVIDAD from dual;
end;


/
ALTER TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_ACTIVIDAD" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_SEQ_TBL_BITACORA
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_BITACORA" 
before insert on TBL_BITACORA
for each row
begin
    select SEQ_TBL_BITACORA.nextval into :new.PK_BTC_IDBITACORA from dual;
end;


/
ALTER TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_BITACORA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_SEQ_TBL_CONFIGURACION
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_CONFIGURACION" 
before insert on TBL_CONFIGURACION
for each row
begin
    select SEQ_TBL_CONFIGURACION.nextval into :new.PK_CONF_IDCONFIGURACION from dual;
end;

/
ALTER TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_CONFIGURACION" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_SEQ_TBL_MODULO
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_MODULO" 
before insert on TBL_MODULO
for each row
begin
    select SEQ_TBL_MODULO.nextval into :new.PK_MOD_IDMODULO from dual;
end;


/
ALTER TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_MODULO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_SEQ_TBL_TIPODOCUMENTO
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_TIPODOCUMENTO" 
before insert on TBL_TIPODOCUMENTO
for each row
begin
    select SEQ_TBL_TIPODOCUMENTO.nextval into :new.PK_TIP_IDTIPODOCUMENTO from dual;
end;


/
ALTER TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_TIPODOCUMENTO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_SEQ_TBL_USUARIO
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_USUARIO" 
before insert on TBL_USUARIO
for each row
begin
    select SEQ_TBL_USUARIO.nextval into :new.PK_USR_IDUSUARIO from dual;
end;


/
ALTER TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_USUARIO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_SEQ_TBL_USUARIOACTIVID
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_USUARIOACTIVID" 
before insert on TBL_USUARIOACTIVIDAD
for each row
begin
    select SEQ_TBL_USUARIOACTIVIDAD.nextval into :new.PK_UAC_IDRELACION from dual;
end;


/
ALTER TRIGGER "BDS_ESCOM"."TRIGGER_SEQ_TBL_USUARIOACTIVID" ENABLE;
--------------------------------------------------------
--  DDL for Function CUSTOM_AUTH
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "BDS_ESCOM"."CUSTOM_AUTH" (p_username in VARCHAR2, p_password in VARCHAR2)
return BOOLEAN
is
  l_password varchar2(4000);
  l_stored_password varchar2(4000);
  l_expires_on date;
  l_count number;
begin
-- First, check to see if the user is in the user table
select count(*) into l_count from demo_users where user_name = p_username;
if l_count > 0 then
  -- First, we fetch the stored hashed password & expire date
  select password, expires_on into l_stored_password, l_expires_on
   from demo_users where user_name = p_username;

  -- Next, we check to see if the user's account is expired
  -- If it is, return FALSE
  if l_expires_on > sysdate or l_expires_on is null then

    -- If the account is not expired, we have to apply the custom hash
    -- function to the password
    l_password := custom_hash(p_username, p_password);

    -- Finally, we compare them to see if they are the same and return
    -- either TRUE or FALSE
    if l_password = l_stored_password then
      return true;
    else
      return false;
    end if;
  else
    return false;
  end if;
else
  -- The username provided is not in the DEMO_USERS table
  return false;
end if;
end;



/
--------------------------------------------------------
--  DDL for Function CUSTOM_HASH
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "BDS_ESCOM"."CUSTOM_HASH" (p_username in varchar2, p_password in varchar2)
return varchar2
is
  l_password varchar2(4000);
  l_salt varchar2(4000) := '8X14BYL9NHJ0JWHUTTFCYJBOZYP73R';
begin

-- This function should be wrapped, as the hash algorhythm is exposed here.
-- You can change the value of l_salt or the method of which to call the
-- DBMS_OBFUSCATOIN toolkit, but you much reset all of your passwords
-- if you choose to do this.

l_password := utl_raw.cast_to_raw(dbms_obfuscation_toolkit.md5
  (input_string => p_password || substr(l_salt,10,13) || p_username ||
    substr(l_salt, 4,10)));
return l_password;
end;



/
--------------------------------------------------------
--  Constraints for Table TBL_TIPODOCUMENTO
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_TIPODOCUMENTO" ADD CONSTRAINT "TBL_TIPODOCUMENTO_PK" PRIMARY KEY ("PK_TIP_IDTIPODOCUMENTO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "BDS_ESCOM"."TBL_TIPODOCUMENTO" MODIFY ("PK_TIP_IDTIPODOCUMENTO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TBL_BITACORA
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_BITACORA" ADD CONSTRAINT "TBL_BITACORA_PK" PRIMARY KEY ("PK_BTC_IDBITACORA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "BDS_ESCOM"."TBL_BITACORA" MODIFY ("PK_BTC_IDBITACORA" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TBL_USUARIOACTIVIDAD
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_USUARIOACTIVIDAD" ADD CONSTRAINT "TBL_USUARIOACTIVIDAD_PK" PRIMARY KEY ("PK_UAC_IDRELACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "BDS_ESCOM"."TBL_USUARIOACTIVIDAD" MODIFY ("PK_UAC_IDRELACION" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TBL_CONFIGURACION
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_CONFIGURACION" MODIFY ("PK_CONF_IDCONFIGURACION" NOT NULL ENABLE);
  ALTER TABLE "BDS_ESCOM"."TBL_CONFIGURACION" ADD CONSTRAINT "TBL_CONFIGURACION_PK" PRIMARY KEY ("PK_CONF_IDCONFIGURACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TBL_ACTIVIDAD
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_ACTIVIDAD" ADD CONSTRAINT "TBL_ACTIVIDAD_PK" PRIMARY KEY ("PK_ACT_IDACTIVIDAD")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "BDS_ESCOM"."TBL_ACTIVIDAD" MODIFY ("PK_ACT_IDACTIVIDAD" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TBL_MODULO
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_MODULO" ADD CONSTRAINT "TBL_MODULO_PK" PRIMARY KEY ("PK_MOD_IDMODULO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "BDS_ESCOM"."TBL_MODULO" MODIFY ("PK_MOD_IDMODULO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TBL_USUARIO
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_USUARIO" ADD CONSTRAINT "TBL_USUARIO_PK" PRIMARY KEY ("PK_USR_IDUSUARIO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "BDS_ESCOM"."TBL_USUARIO" MODIFY ("PK_USR_IDUSUARIO" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table TBL_ACTIVIDAD
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_ACTIVIDAD" ADD CONSTRAINT "RELACION_IDMODULO" FOREIGN KEY ("FK_ACT_IDMODULO")
	  REFERENCES "BDS_ESCOM"."TBL_MODULO" ("PK_MOD_IDMODULO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TBL_USUARIO
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_USUARIO" ADD CONSTRAINT "RELACION_TIPODOC" FOREIGN KEY ("FK_USR_IDTIPODOCUMENTO")
	  REFERENCES "BDS_ESCOM"."TBL_TIPODOCUMENTO" ("PK_TIP_IDTIPODOCUMENTO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TBL_USUARIOACTIVIDAD
--------------------------------------------------------

  ALTER TABLE "BDS_ESCOM"."TBL_USUARIOACTIVIDAD" ADD CONSTRAINT "RELACION_ACTV" FOREIGN KEY ("FK_UAC_IDACTIVIDAD")
	  REFERENCES "BDS_ESCOM"."TBL_ACTIVIDAD" ("PK_ACT_IDACTIVIDAD") ENABLE;
  ALTER TABLE "BDS_ESCOM"."TBL_USUARIOACTIVIDAD" ADD CONSTRAINT "RELACION_USUARIO" FOREIGN KEY ("FK_UAC_IDUSUARIO")
	  REFERENCES "BDS_ESCOM"."TBL_USUARIO" ("PK_USR_IDUSUARIO") ENABLE;
